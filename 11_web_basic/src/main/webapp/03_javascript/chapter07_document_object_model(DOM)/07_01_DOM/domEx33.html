﻿<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>새로운 노드 추가 및 삭제</title>
<script>

	/*
	
		# 노드 추가 & 삭제
	
		- 여러 함수를 통해 JavaScript에서 DOM 노드를 유연하게 추가하거나 삭제할 수 있다.
		
		- 이를 통해 사용자와의 상호작용에 따라 페이지의 내용을 동적으로 변경할 수 있다.
		
			[ 함수 예시 ]
			1) createElement    : html element를 생성한다.
			2) createTextNode   : text노드를 생성한다.
			3) appendChild      : 현재 노드에 자녀 노드를 추가한다.
			4) removeChild      : 현재 노드에 자녀 노드를 삭제한다. 
			5) parentNode       : 현재노드의 부모노드를 반환한다.
			6) childNodes       : 한 노드의 모든 자식에 접근 할 수 있다. 배열이 반환된다.
			7) firstChild       : 배열의 첫번째 자식 노드가 반환된다. childNodes[0]과 같다.
			8) lastChild        : 배열의 마지막 자식 노드가 반환된다. childNodes[childNodes.length -1]과 같다.
		
		
		# 새로운 노드를 추가 하는 방법
	
			1) 원하는 노드를 생성한다.
			2) 새로운 노드의 속성값을 부여한다.
			3) 노드가 html에 문서에 추가되기 위해서 연결할 부모노드를 찾아서 연결한다.
	
	*/
	let imageIdx = 1;
	function addElement() {
		
		// [필수] createElement("태그명") 메서드를 이용하여 새로운 태그를 생성한다.
		let addImg = document.createElement("img"); //<img>
		
		// [옵션] 태그에 속성을 부여한다.
		addImg.src = "../../images/pic_" + imageIdx + ".jpg"; // <img src="../../images/pic_1.jpg">
		addImg.width = "100"; // <img src="../../images/pic_1.jpg" width="100">
		addImg.height = "100"; // <img src="../../images/pic_1.jpg" width="100" height="100">
		
		// [필수] 부모의 노드를 찾아서 appendChild(노드) 메서드를 이용하여 새로운 노드를 연결한다.
		document.getElementById("target1").appendChild(addImg);
		
		imageIdx++;
		
		if(imageIdx == 10){
			imageIdx = 1;
		}
	}
	
	function removeElement() {
		
		// 삭제하고 싶은 노드의 부모를 선택한다.
		let pNode = document.getElementById("target1");
		// 마지막 노드 삭제 예시
		// firstChild , lastChild, childNodes[n]
		pNode.removeChild(pNode.lastChild);
		
		imageIdx --;
		if(imageIdx == 1){
			alert("없는 사진")
		}
	}
	
	
	function addText() {
		
		// [필수] createTextNode("텍스트") 메서드를 이용하여 새로운 텍스트를 생성한다.
		let addText = document.createTextNode("동적으로 텍스트가 추가됩니다."); // 텍스트 생성
		let addP = document.createElement("p");	// p 태그 생성 
		
		// [옵션] 노드에 속성을 부여한다.
		addP.style="color : red";
		addP.appendChild(addText);
		
		// [필수] 부모의 노드를 찾아서 appendChild(노드) 메서드를 이용하여 새로운 노드를 연결한다.
		document.getElementById("target2").appendChild(addP);
		
	}
	
	
	function removeText() {
		
		// 삭제하고 싶은 노드의 부모를 선택한다.
		let pNode = document.getElementById("target2");
		
		// 전체 노드 삭제 예시
		for (let i = pNode.childNodes.length - 1; i >= 0; i--){ // 자식 노드 전체 삭제
			pNode.removeChild(pNode.childNodes[i]);
		}
	}
	
</script>
</head>
<body>

	<h2>첫번째 단락</h2>
	<div id="target1"></div>
	
	<h2>두번째 단락</h2>
	<div id="target2"></div>
	
	<button onclick="addElement();">엘리먼트 추가</button>
	<button onclick="removeElement();">엘리먼트 삭제</button>
	<button onclick="addText();">텍스트 추가</button>
	<button onclick="removeText();">텍스트 삭제</button>
	
</body>
</html>
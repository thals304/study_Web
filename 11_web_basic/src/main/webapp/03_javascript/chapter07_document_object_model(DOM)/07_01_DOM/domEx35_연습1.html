<!DOCTYPE html>
<!--24.03.24 time 21:10-21:34
	today 소감문
	일단 패스워드를 입력하고 나서 포커스를 잃었을 때 메시지가 출력이 되야 하므로 onblur라는 점 기억하기!!
	이번에도 toggle을 사용해야 되는 문제가 발생했다.
	toggle을 넣지 않으면 target 다음에 패스워드가 8자리 이상이 아닐 때
	비밀번호는 8자리 이상으로 작성하세요가 계속 추가 추가가 되고
	8자리 이상 작성했을 때는 삭제가 되다가 password 텍스트 칸까지 삭제하게 되는
	오류가 발생해 버린다.
	근데 솔직히 아직까지 toggle의 역할을 정확히 이해하지 못했다. 
	그리고 toggle의 true와 false를 어쩔 때는 true 어쩔 때는 false로 해줘야 
	하는지도 모르겠다.
 -->
<html>
<head>
<meta charset="UTF-8">
<title>연습예제</title>
<script>
	let toggle = false;
	function checkPwdLength(){
		
		let pw = document.getElementById("pwd").value;
		
		if (pw.length < 8 && !toggle ){
			let addText = document.createTextNode("비밀번호는 8자리 이상으로 작성하세요.");
			let addP = document.createElement("p");
			
			addP.style = "color : red";
			addP.appendChild(addText);
			
			document.getElementById("target").appendChild(addP);
			
			toggle = true;
		}
		else if (pw.length > 8 && toggle){
			let pNode = document.getElementById("target");
			
			pNode.removeChild(pNode.lastChild);
			
			toggle = false;
			
		}
	}
</script>
</head>
<body>
	
	<!-- 
		
		비밀번호가 8글자 미만일경우 "비밀번호는 8자리 이상으로 작성하세요."를 빨간색 글씨로
		비밀번호 input태그 아래에 출력해 보시오.
		
		비밀번호가 8글자 이상으로 수정되었을때 "비밀번호는 8자리 이상으로 작성하세요." 텍스트를 삭제해 보시오.
	
	 -->

	<fieldset>
		<form>
	   		<p>
				<label>아이디 : <input type="text" id="id" name="name" ></label>
			</p>
	   		<p id="target">
				<label>비밀번호 : <input type="password" id="pwd" name="pwd" onblur="checkPwdLength();"></label>
			</p>
	   		<p >
				<label>이메일 : <input type="email" id="email" name="email" ></label>
			</p>
			<p>
				<input type="submit" value="전송">
			</p>
		</form>
	</fieldset>	
	
</body>
</html>